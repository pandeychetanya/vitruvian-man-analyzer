<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vitruvian Man Analyzer - Renaissance Art History</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700;900&family=Libre+Baskerville:wght@400;700&family=Cinzel+Decorative:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/css/enhanced-style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="vitruvian-image">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/22/Da_Vinci_Vitruve_Luc_Viatour.jpg" alt="Leonardo da Vinci's Vitruvian Man" style="width: 200px; height: 200px; object-fit: cover; border-radius: 50%; border: 4px solid #daa520; box-shadow: 0 15px 30px rgba(139, 69, 19, 0.2); margin-bottom: 30px;">
            </div>
            <h1>Vitruvian Man Analyzer</h1>
            <div class="subtitle">Renaissance Art & Human Proportions</div>
            <p class="description">Discover how your pose compares to Leonardo da Vinci's vision of perfect human harmony</p>
        </header>

        <main>
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <div class="upload-icon">üé®</div>
                        <p>Upload your image to begin the Renaissance analysis</p>
                        <input type="file" id="imageInput" accept="image/*" hidden>
                        <button class="upload-btn" onclick="document.getElementById('imageInput').click()">
                            Choose Your Portrait
                        </button>
                    </div>
                </div>
            </div>

            <div class="analysis-section" id="analysisSection" style="display: none;">
                <div class="image-preview">
                    <img id="previewImage" alt="Your analyzed image">
                    <canvas id="poseCanvas" class="pose-canvas"></canvas>
                </div>
                
                <div class="results">
                    <div class="score-display">
                        <div class="score-circle">
                            <span id="scoreValue">--</span>
                            <small>/100</small>
                        </div>
                        <h3 id="scoreLevel">Analyzing...</h3>
                        <p class="score-description" id="scoreDescription"></p>
                    </div>
                    
                    <div class="metrics">
                        <div class="metric">
                            <div class="metric-icon">üëë</div>
                            <label>Head Proportion</label>
                            <div class="metric-value" id="headRatioValue">--</div>
                            <div class="metric-status" id="headRatioStatus">--</div>
                        </div>
                        
                        <div class="metric">
                            <div class="metric-icon">ü§≤</div>
                            <label>Arm Span</label>
                            <div class="metric-value" id="armSpanValue">--</div>
                            <div class="metric-status" id="armSpanStatus">--</div>
                        </div>
                        
                        <div class="metric">
                            <div class="metric-icon">‚öñÔ∏è</div>
                            <label>Body Symmetry</label>
                            <div class="metric-value" id="symmetryValue">--</div>
                            <div class="metric-status" id="symmetryStatus">--</div>
                        </div>
                        
                        <div class="metric">
                            <div class="metric-icon">‚¨ú</div>
                            <label>Geometric Fit</label>
                            <div class="metric-value" id="squareFitValue">--</div>
                            <div class="metric-status" id="squareFitStatus">--</div>
                        </div>
                    </div>
                    
                    <div class="analysis-text">
                        <div class="analysis-title" id="analysisText">
                            <!-- Simple analysis will be populated here -->
                        </div>
                    </div>
                    
                    <button class="new-analysis-btn" onclick="resetAnalysis()">
                        Analyze Another Portrait
                    </button>
                </div>
            </div>

            <div class="loading" id="loading" style="display: none;">
                <div class="spinner"></div>
                <p>The Renaissance master is examining your proportions...</p>
            </div>

            <div id="errorMessage" class="error-message" style="display: none;">
                <!-- Error messages will appear here -->
            </div>
        </main>

        <footer>
            <h3>How It Works & Best Photos</h3>
            <p>
                <strong>üì∏ For Best Results:</strong> Use a full-body photo where you're standing straight with arms spread wide (like making a "T" shape). Make sure your whole body is visible from head to feet, and you're facing the camera directly.
            </p>
            <br>
            <p>
                <strong>ü§ñ The Technology:</strong> This uses Google's AI called "PoseNet" that can spot 17 key points on your body (like shoulders, elbows, hips, etc.). It then does math to measure distances between these points and compares them to Leonardo da Vinci's ideal proportions from 500+ years ago. All the AI processing happens right in your browser - no servers needed!
            </p>
        </footer>
    </div>

    <!-- TensorFlow.js and PoseNet -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/posenet@2.2.2"></script>
    <script src="static/js/enhanced-main.js"></script>
</body>
</html>